(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a(330)},155:function(e,t,a){},156:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},157:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),s=a.n(c),o=(a(155),a(5)),l=a(6),i=a(8),E=a(7),u=a(9),m=(a(156),a(157),a(158),a(31)),d=a(13),h=Object(d.a)(),S=a(138),g=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},_=a(1),p=a(10),A=a(16),f=a.n(A),T=a(2),b=(n.Component,a(141));function C(e){var t=e.portfolios,a=e.labels,n={BITTREX:{backgroundColor:"rgba(167, 232, 192,.1)",borderColor:"rgba(167, 232, 192,.55)"},BINANCE:{backgroundColor:"rgba(237, 220, 220,.1)",borderColor:"rgba(237, 220, 220,.55)"}};return r.a.createElement(b.a,{height:50,data:{labels:a,type:"line",datasets:Object.keys(t).map(function(e){return{data:t[e].map(function(e){return parseFloat(e)}),label:e,backgroundColor:n[e].backgroundColor,borderColor:n[e].borderColor}})},options:{maintainAspectRatio:!0,legend:{display:!1},layout:{padding:{left:0,right:0,top:0,bottom:0}},responsive:!0,scales:{xAxes:[{gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontSize:2,fontColor:"transparent"}}],yAxes:[{display:!1,ticks:{display:!1}}]},title:{display:!1},elements:{line:{borderWidth:0},point:{radius:0,hitRadius:10,hoverRadius:4}}}})}var v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={show_dropdown:!1},a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.state.show_dropdown?document.body.removeEventListener("click",this.handleChange):document.body.addEventListener("click",this.handleChange),this.setState({show_dropdown:!this.state.show_dropdown}),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.btc_values;return r.a.createElement("div",{class:"noti-wrap"},r.a.createElement("div",{className:this.state.show_dropdown?"noti__item js-item-menu show-dropdown":"noti__item js-item-menu",onClick:this.handleChange},r.a.createElement("i",{class:"zmdi zmdi-money-box"}),r.a.createElement("div",{class:"notifi-dropdown js-dropdown"},r.a.createElement("div",{class:"notifi__title"},r.a.createElement("p",null,"Portfolio Balances")),e&&e.map(function(e){return r.a.createElement("div",{class:"notifi__item"},r.a.createElement("div",{class:"content"},r.a.createElement("p",null,e.exchange," - ",e.btc_value," BTC - ",e.is_active?r.a.createElement("span",{class:"badge badge-success"},"running"):r.a.createElement("span",{class:"badge badge-danger"},"error")),r.a.createElement("span",{class:"date"},e.timestamp)))}))))}}]),t}(n.Component),R={success:function(e){return function(t){return t(Object(A.createNotification)({type:A.NOTIFICATION_TYPE_SUCCESS,message:e,canDismiss:!0,duration:1e4}))}},error:function(e){return function(t){return t(Object(A.createNotification)({type:A.NOTIFICATION_TYPE_ERROR,message:e,canDismiss:!0,duration:1e4}))}}};var U={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE",DELETE_REQUEST:"USERS_DELETE_REQUEST",DELETE_SUCCESS:"USERS_DELETE_SUCCESS",DELETE_FAILURE:"USERS_DELETE_FAILURE",AUTH_TOKEN_REFRESHED:"USERS_AUTH_TOKEN_REFRESHED",AUTH_TOKEN_REFRESH_FAILURE:"USERS_AUTH_TOKEN_REFRESH_FAILURE"},L={CREATE_REQUEST:"ORDERS_CREATE_REQUEST",CREATE_SUCCESS:"ORDERS_CREATE_SUCCESS",CREATE_FAILURE:"ORDERS_CREATE_FAILURE",UPDATE_REQUEST:"ORDERS_UPDATE_REQUEST",UPDATE_SUCCESS:"ORDERS_UPDATE_SUCCESS",UPDATE_FAILURE:"ORDERS_UPDATE_FAILURE",GET_REQUEST:"ORDERS_GET_REQUEST",GET_SUCCESS:"ORDERS_GET_SUCCESS",GET_FAILURE:"ORDERS_GET_FAILURE",GETALL_REQUEST:"ORDERS_GETALL_REQUEST",GETALL_SUCCESS:"ORDERS_GETALL_SUCCESS",GETALL_FAILURE:"ORDERS_GETALL_FAILURE",DELETE_REQUEST:"ORDERS_DELETE_REQUEST",DELETE_SUCCESS:"ORDERS_DELETE_SUCCESS",DELETE_FAILURE:"ORDERS_DELETE_FAILURE"},O={CREATE_REQUEST:"SETTINGS_CREATE_REQUEST",CREATE_SUCCESS:"SETTINGS_CREATE_SUCCESS",CREATE_FAILURE:"SETTINGS_CREATE_FAILURE",UPDATE_REQUEST:"SETTINGS_UPDATE_REQUEST",UPDATE_SUCCESS:"SETTINGS_UPDATE_SUCCESS",UPDATE_FAILURE:"SETTINGS_UPDATE_FAILURE",GET_REQUEST:"SETTINGS_GET_REQUEST",GET_SUCCESS:"SETTINGS_GET_SUCCESS",GET_FAILURE:"SETTINGS_GET_FAILURE",GETALL_REQUEST:"SETTINGS_GETALL_REQUEST",GETALL_SUCCESS:"SETTINGS_GETALL_SUCCESS",GETALL_FAILURE:"SETTINGS_GETALL_FAILURE",DELETE_REQUEST:"SETTINGS_DELETE_REQUEST",DELETE_SUCCESS:"SETTINGS_DELETE_SUCCESS",DELETE_FAILURE:"SETTINGS_DELETE_FAILURE",CREATE_AVATAR_REQUEST:"SETTINGS_CREATE_AVATAR_REQUEST",CREATE_AVATAR_SUCCESS:"SETTINGS_CREATE_AVATAR_SUCCESS",CREATE_AVATAR_FAILURE:"SETTINGS_CREATE_AVATAR_FAILURE"},y={CREATE_REQUEST:"SIGNALS_CREATE_REQUEST",CREATE_SUCCESS:"SIGNALS_CREATE_SUCCESS",CREATE_FAILURE:"SIGNALS_CREATE_FAILURE",UPDATE_REQUEST:"SIGNALS_UPDATE_REQUEST",UPDATE_SUCCESS:"SIGNALS_UPDATE_SUCCESS",UPDATE_FAILURE:"SIGNALS_UPDATE_FAILURE",GET_REQUEST:"SIGNALS_GET_REQUEST",GET_SUCCESS:"SIGNALS_GET_SUCCESS",GET_FAILURE:"SIGNALS_GET_FAILURE",GET_CHECKED_REQUEST:"SIGNALS_GET_CHECKED_REQUEST",GET_CHECKED_SUCCESS:"SIGNALS_GET_CHECKED_SUCCESS",GET_CHECKED_FAILURE:"SIGNALS_GET_CHECKED_FAILURE",GETALL_REQUEST:"SIGNALS_GETALL_REQUEST",GETALL_SUCCESS:"SIGNALS_GETALL_SUCCESS",GETALL_FAILURE:"SIGNALS_GETALL_FAILURE",DELETE_REQUEST:"SIGNALS_DELETE_REQUEST",DELETE_SUCCESS:"SIGNALS_DELETE_SUCCESS",DELETE_FAILURE:"SIGNALS_DELETE_FAILURE"},I={CREATE_REQUEST:"PORTFOLIOS_CREATE_REQUEST",CREATE_SUCCESS:"PORTFOLIOS_CREATE_SUCCESS",CREATE_FAILURE:"PORTFOLIOS_CREATE_FAILURE",UPDATE_REQUEST:"PORTFOLIOS_UPDATE_REQUEST",UPDATE_SUCCESS:"PORTFOLIOS_UPDATE_SUCCESS",UPDATE_FAILURE:"PORTFOLIOS_UPDATE_FAILURE",GET_REQUEST:"PORTFOLIOS_GET_REQUEST",GET_SUCCESS:"PORTFOLIOS_GET_SUCCESS",GET_FAILURE:"PORTFOLIOS_GET_FAILURE",GETALL_REQUEST:"PORTFOLIOS_GETALL_REQUEST",GETALL_SUCCESS:"PORTFOLIOS_GETALL_SUCCESS",GETALL_FAILURE:"PORTFOLIOS_GETALL_FAILURE",DELETE_REQUEST:"PORTFOLIOS_DELETE_REQUEST",DELETE_SUCCESS:"PORTFOLIOS_DELETE_SUCCESS",DELETE_FAILURE:"PORTFOLIOS_DELETE_FAILURE",GET_BTC_REQUEST:"PORTFOLIOS_GET_BTC_REQUEST",GET_BTC_SUCCESS:"PORTFOLIOS_GET_BTC_SUCCESS",GET_BTC_FAILURE:"PORTFOLIOS_GET_BTC_FAILURE"},G={CREATE_REQUEST:"MANUALORDERS_CREATE_REQUEST",CREATE_SUCCESS:"MANUALORDERS_CREATE_SUCCESS",CREATE_FAILURE:"MANUALORDERS_CREATE_FAILURE",UPDATE_REQUEST:"MANUALORDERS_UPDATE_REQUEST",UPDATE_SUCCESS:"MANUALORDERS_UPDATE_SUCCESS",UPDATE_FAILURE:"MANUALORDERS_UPDATE_FAILURE",GET_REQUEST:"MANUALORDERS_GET_REQUEST",GET_SUCCESS:"MANUALORDERS_GET_SUCCESS",GET_FAILURE:"MANUALORDERS_GET_FAILURE",GETALL_REQUEST:"MANUALORDERS_GETALL_REQUEST",GETALL_SUCCESS:"MANUALORDERS_GETALL_SUCCESS",GETALL_FAILURE:"MANUALORDERS_GETALL_FAILURE",DELETE_REQUEST:"MANUALORDERS_DELETE_REQUEST",DELETE_SUCCESS:"MANUALORDERS_DELETE_SUCCESS",DELETE_FAILURE:"MANUALORDERS_DELETE_FAILURE",GET_SYMBOLS_REQUEST:"MANUALORDERS_GET_SYMBOLS_REQUEST",GET_SYMBOLS_SUCCESS:"MANUALORDERS_GET_SYMBOLS_SUCCESS",GET_SYMBOLS_FAILURE:"MANUALORDERS_GET_SYMBOLS_FAILURE"},k={CREATE_REQUEST:"TRADES_CREATE_REQUEST",CREATE_SUCCESS:"TRADES_CREATE_SUCCESS",CREATE_FAILURE:"TRADES_CREATE_FAILURE",UPDATE_REQUEST:"TRADES_UPDATE_REQUEST",UPDATE_SUCCESS:"TRADES_UPDATE_SUCCESS",UPDATE_FAILURE:"TRADES_UPDATE_FAILURE",GET_REQUEST:"TRADES_GET_REQUEST",GET_SUCCESS:"TRADES_GET_SUCCESS",GET_FAILURE:"TRADES_GET_FAILURE",GETALL_REQUEST:"TRADES_GETALL_REQUEST",GETALL_SUCCESS:"TRADES_GETALL_SUCCESS",GETALL_FAILURE:"TRADES_GETALL_FAILURE",DELETE_REQUEST:"TRADES_DELETE_REQUEST",DELETE_SUCCESS:"TRADES_DELETE_SUCCESS",DELETE_FAILURE:"TRADES_DELETE_FAILURE"},D={apiUrl:""},j=a(26),N=JSON.parse(localStorage.getItem("user")),x=N?{loggedIn:!0,user:N.user,tokens:N.tokens}:{};var w=a(33),F={list:[]};var Q={accounts:[],loading:!1};var P={list:[],checked_signals:[],loading:!1};var M={portfolios:{},btc_values:[],labels:[]};var B={orders:[],symbols:{exchange:"",symbols:[]}};var H={list:[]};var K=Object(j.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case U.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user.user,tokens:t.user.tokens};case U.LOGIN_FAILURE:case U.LOGOUT:return{};case U.AUTH_TOKEN_REFRESHED:return console.log("We are here",t.token.access_token),Object(_.a)({},e,{tokens:Object(_.a)({},e.tokens,{access_token:t.token.access_token,expires_at:t.token.expires_at})});case U.AUTH_TOKEN_REFRESH_FAILURE:return console.log("Failed to refresh token ",t.error),{};case U.REGISTER_REQUEST:return Object(_.a)({},e,{loggingIn:!0});case U.REGISTER_SUCCESS:return{user:t.user.user,tokens:t.user.tokens};default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.GETALL_SUCCESS:return Object(_.a)({},e,{list:t.orders});case L.GETALL_FAILURE:return console.log("Failed to get orders"),Object(_.a)({},e,{error:t.error});case L.GET_SUCCESS:return Object(_.a)({},e,{list:[].concat(Object(w.a)(e.orders.list),[t.order])});case L.GET_FAILURE:return console.log("Failed to get order"),Object(_.a)({},e,{error:t.error});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.CREATE_REQUEST:var a=Object(w.a)(e.accounts),n=a.map(function(e){return e.exchange}).indexOf(t.settings.settings.exchange);return a.splice(n,1,t.settings.settings),Object(_.a)({},e,{accounts:a,loading:!0});case O.CREATE_SUCCESS:case O.CREATE_FAILURE:return Object(_.a)({},e,{loading:!1});case O.GET_REQUEST:return Object(_.a)({},e,{loading:!0});case O.GET_SUCCESS:return Object(_.a)({},e,{accounts:Object(w.a)(t.settings),loading:!1});case O.GET_FAILURE:return Object(_.a)({},e,{error:t.error});case O.UPDATE_SUCCESS:return Object(_.a)({},e,{accounts:e.accounts.concat(t.settings)});case O.CREATE_AVATAR_REQUEST:return Object(_.a)({},e,{avatar_creating:!0});case O.CREATE_AVATAR_SUCCESS:return Object(_.a)({},e,{avatar_creating:!1});default:return e}},signals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.GET_SUCCESS:return console.log("our signals are",t.signals),Object(_.a)({},e,{list:t.signals,loading:!1});case y.GET_FAILURE:return console.log("Failed to get signals"),Object(_.a)({},e,{error:t.error,loading:!1});case y.UPDATE_SUCCESS:return console.log("success updating signals"),Object(_.a)({},e,t.signals,{loading:!1});case y.GET_CHECKED_SUCCESS:case y.CREATE_SUCCESS:return console.log("recieved checked signals"),Object(_.a)({},e,{checked_signals:t.signals,loading:!1});case y.GET_REQUEST:case y.CREATE_REQUEST:case y.GET_CHECKED_REQUEST:return Object(_.a)({},e,{loading:!0});case y.CREATE_SUCCESS:case y.CREATE_FAILURE:return Object(_.a)({},e,{loading:!1});default:return e}},notifications:f.a,portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.GETALL_SUCCESS:return console.log("our portfolios are",t.portfolios),Object(_.a)({},e,{portfolios:t.portfolio.portfolios,labels:t.portfolio.labels});case I.GETALL_FAILURE:return console.log("Failed to get portfolios"),Object(_.a)({},e,{error:t.error});case I.GET_SUCCESS:return console.log("our portfolio is",t.portfolio),Object(_.a)({},e,{portfolios:t.portfolio.portfolios,labels:t.portfolio.labels});case I.GET_FAILURE:return console.log("Failed to get portfolio"),Object(_.a)({},e,{error:t.error});case I.GET_BTC_SUCCESS:return console.log("btc values",t.portfolio),Object(_.a)({},e,{btc_values:t.portfolio});default:return e}},manualorders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.GET_SUCCESS:return console.log("our manualorders are",t.manualorders),Object(_.a)({},e,{orders:t.manualorders});case G.GET_FAILURE:return console.log("Failed to get manualorders"),Object(_.a)({},e,{error:t.error});case G.UPDATE_SUCCESS:return console.log("success updating manualorders"),Object(_.a)({},e,{orders:e.orders.concat(t.manualorders)});case G.GET_SYMBOLS_SUCCESS:return console.log("our symbols are",t.symbols),Object(_.a)({},e,{symbols:t.symbols});default:return e}},trades:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.GETALL_SUCCESS:return Object(_.a)({},e,{list:t.trades});case k.GETALL_FAILURE:return console.log("Failed to get trades"),Object(_.a)({},e,{error:t.error});case k.GET_SUCCESS:return Object(_.a)({},e,{list:[].concat(Object(w.a)(e.trades.list),[t.trade])});case k.GET_FAILURE:return console.log("Failed to get trade"),Object(_.a)({},e,{error:t.error});default:return e}}});var Y=a(143),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,z=Object(j.e)(K,J(Object(j.a)(Y.a,function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(n.type.includes("REQUEST")&&n.type!==U.LOGIN_REQUEST){console.log("request captured",n.type);var r=a().authentication.tokens;if("undefined"===typeof r)return e(n);var c=new Date(Date.now()+6e4),s=new Date(r.expires_at+"Z");if(r.refresh_token&&c.getTime()>s.getTime()){var o={method:"POST",headers:{Authorization:"Bearer "+r.refresh_token,"Content-Type":"application/json"}};fetch("".concat(D.apiUrl,"/api/token/refresh"),o).then(function(e){return console.log("our response is ",e),e.json()}).then(function(e){t({type:U.AUTH_TOKEN_REFRESHED,token:e}),window.location.reload()}).catch(function(e){t({type:U.AUTH_TOKEN_REFRESH_FAILURE,error:e})})}}return e(n)}}})));function V(){var e=JSON.parse(localStorage.getItem("user")),t=z.getState().authentication.tokens;return t&&t.access_token?{Authorization:"Bearer "+t.access_token}:e&&e.tokens.access_token?{Authorization:"Bearer "+e.tokens.access_token}:{}}z.subscribe(function(){!function(e){try{localStorage.setItem("state.auth.tokens",JSON.stringify((e.authentication||{}).tokens));var t=localStorage.getItem("user"),a=JSON.parse(t),n=Object(_.a)({},a,{tokens:Object(_.a)({},a.tokens,{access_token:e.authentication.tokens.access_token,expires_at:e.authentication.tokens.expires_at})});localStorage.setItem("user",JSON.stringify(n))}catch(r){return}}(z.getState())});var W={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})};return fetch("".concat(D.apiUrl,"/api/login"),a).then(Z).then(function(e){return localStorage.setItem("user",JSON.stringify(e)),e})},logout:q,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(D.apiUrl,"/api/registration"),t).then(Z).then(function(e){return localStorage.setItem("user",JSON.stringify(e)),e})},update:function(e){var t={method:"PUT",headers:Object(_.a)({},V(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(D.apiUrl,"/users/"),t).then(Z)},delete:function(e){var t={method:"DELETE",headers:V()};return fetch("".concat(D.apiUrl,"/users"),t).then(Z)}};function q(){localStorage.removeItem("user")}function Z(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&q();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var X={login:function(e,t){return function(a){var n;a((n={username:e},{type:U.LOGIN_REQUEST,user:n})),W.login(e,t).then(function(e){a(function(e){return{type:U.LOGIN_SUCCESS,user:e}}(e)),h.push("/"),a(R.success(e.message.toString())),console.log("login successful")},function(e){console.log("login failed",e.toString()),a(function(e){return{type:U.LOGIN_FAILURE,error:e}}(e.toString())),a(R.error(e.toString()))})}},logout:function(){return W.logout(),h.push("/login"),R.success("Bye! See you next time"),{type:U.LOGOUT}},register:function(e){return function(t){t(function(e){return{type:U.REGISTER_REQUEST,user:e}}(e)),W.register(e).then(function(e){t(function(e){return{type:U.REGISTER_SUCCESS,user:e}}(e)),h.push("/"),t(R.success("Registration successful"))},function(e){console.log("Registration failed,",e.toString()),t(function(e){return{type:U.REGISTER_FAILURE,error:e}}(e.toString())),t(R.error(e.toString()))})}},getAll:function(){return function(e){e({type:U.GETALL_REQUEST}),W.getAll().then(function(t){return e(function(e){return{type:U.GETALL_SUCCESS,users:e}}(t))},function(t){return e(function(e){return{type:U.GETALL_FAILURE,error:e}}(t.toString()))})}},delete:function(e){return function(t){t(function(e){return{type:U.DELETE_REQUEST,id:e}}(e)),W.delete(e).then(function(a){return t(function(e){return{type:U.DELETE_SUCCESS,id:e}}(e))},function(a){return t(function(e,t){return{type:U.DELETE_FAILURE,id:e,error:t}}(e,a.toString()))})}},oauthlogin:function(e){return function(t){var a;console.log(e),t((a={username:e.username},{type:U.LOGIN_REQUEST,user:a})),W.oauthlogin(e).then(function(e){t(function(e){return{type:U.LOGIN_SUCCESS,user:e}}(e)),h.push("/"),t(R.success("Login successful")),t(R.success(e.message.toString())),console.log("login successful")},function(e){console.log("logging failed",e.toString()),console.log(e),t(function(e){return{type:U.LOGIN_FAILURE,error:e}}(e.toString())),t(R.error(e.toString()))})}}};var $={create:function(e){var t={method:"POST",headers:Object(_.a)({"Content-Type":"application/json"},V()),body:JSON.stringify(e)};return fetch("".concat(D.apiUrl,"/api/exchange/settings"),t).then(ee).then(function(e){return e})},update:function(e){var t={method:"PUT",headers:Object(_.a)({},V(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(D.apiUrl,"/api/exchange/settings"),t).then(ee)},get:function(){var e={method:"GET",headers:V()};return fetch("".concat(D.apiUrl,"/api/exchange/settings"),e).then(ee)},createAvatar:function(e){var t={method:"POST",headers:Object(_.a)({"Content-Type":"application/json"},V()),body:JSON.stringify(e)};return fetch("".concat(D.apiUrl,"/api/settings/avatar"),t).then(ee).then(function(e){return e})}};function ee(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){e.status;var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var te=a(32),ae=a.n(te),ne={create:function(e){var t={method:"POST",headers:Object(_.a)({"Content-Type":"application/json"},V()),body:JSON.stringify(e)};return fetch("".concat(D.apiUrl,"/api/signals"),t).then(re).then(function(e){return e})},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={method:"GET",headers:V()},a={exchange_account:e};return fetch("".concat(D.apiUrl,"/api/signals?").concat(ae.a.stringify(a)),t).then(re)},getCheckedSignals:function(e){var t={method:"GET",headers:V()},a={exchange_account:e};return fetch("".concat(D.apiUrl,"/api/checked-signals?").concat(ae.a.stringify(a)),t).then(re)}};function re(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){e.status;var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var ce={get:function(){var e={method:"GET",headers:V()};return fetch("".concat(D.apiUrl,"/api/portfolios"),e).then(se)},getBTCValues:function(){var e={method:"GET",headers:V()};return fetch("".concat(D.apiUrl,"/api/portfolios/btc-values"),e).then(se)}};function se(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){e.status;var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var oe={create:function(e){var t={method:"POST",headers:Object(_.a)({"Content-Type":"application/json"},V()),body:JSON.stringify(e)};return fetch("".concat(D.apiUrl,"/api/manualorders"),t).then(le).then(function(e){return e})},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={exchange_account:e};return fetch("".concat(D.apiUrl,"/api/manualorders?").concat(ae.a.stringify(t)),{method:"GET"}).then(le)},getSymbols:function(e){var t={method:"GET",headers:V()},a={exchange:e};return fetch("".concat(D.apiUrl,"/api/exchangesymbols?").concat(ae.a.stringify(a)),t).then(le)}};function le(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){e.status;var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var ie={get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={method:"GET",headers:V()};return fetch("".concat(D.apiUrl,"/api/trades/").concat(e||""),t).then(Ee)}};function Ee(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){e.status;var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var ue=function(){return new Promise(function(e,t){var a=z.getState().authentication.tokens,n=new Date(Date.now()+6e4),r=new Date(a.expires_at+"Z");if(a.refresh_token&&n.getTime()>r.getTime()){var c={method:"POST",headers:{Authorization:"Bearer "+a.refresh_token,"Content-Type":"application/json"}};fetch("".concat(D.apiUrl,"/api/token/refresh"),c).then(function(e){return console.log("our response is ",e),e.json()}).then(function(t){z.dispatch({type:U.AUTH_TOKEN_REFRESHED,token:t}),e({token:t})}).catch(function(e){z.dispatch({type:U.AUTH_TOKEN_REFRESH_FAILURE,error:e}),t(e)})}e()})};var me={create:function(e){return function(t){t(function(e){return{type:O.CREATE_REQUEST,settings:e}}({settings:e})),ue().then(function(){return $.create(e)}).then(function(e){t(function(e){return{type:O.CREATE_SUCCESS,settings:e}}(e)),t(R.success(e.message.toString())),window.location.reload(!0),console.log("settings created",e)},function(e){console.log("creating settings failed",e),t(function(e){return{type:O.CREATE_FAILURE,error:e}}(e)),t(R.error(e.toString()))})}},update:function(e){return function(t){t(function(e){return{type:O.UPDATE_REQUEST,settings:e}}(e)),console.log("We have dispatched settings request"),ue().then(function(){return $.update(e)}).then(function(e){t(function(e){return{type:O.UPDATE_SUCCESS,settings:e}}(e)),t(R.success("Settings has been updated"))},function(e){console.log("Failed to update settings",e.toString()),t(function(e){return{type:O.UPDATE_FAILURE,error:e}}(e.toString())),t(R.error(e.toString()))})}},get:function(){return function(e){e({type:O.GET_REQUEST}),ue().then(function(){return $.get()}).then(function(t){e(function(e){return{type:O.GET_SUCCESS,settings:e}}(t)),console.log("We have recieved the following settings",t)},function(t){return e(function(e){return{type:O.GET_FAILURE,error:e}}(t.toString()))})}},createAvatar:function(e){return function(t){t({type:O.CREATE_AVATAR_REQUEST}),ue().then(function(){return $.createAvatar(e)}).then(function(e){return t(function(e){return{type:O.CREATE_AVATAR_SUCCESS,settings:e}}(e))},function(e){return t(function(e){return{type:O.CREATE_AVATAR_FAILURE,error:e}}(e.toString()))})}}};var de={create:function(e){return function(t){t(function(e){return{type:y.CREATE_REQUEST,signals:e}}({signals:e})),ue().then(function(){return ne.create(e)}).then(function(e){console.log("Success creating signals"),t(function(e){return{type:y.CREATE_SUCCESS,signals:e}}(e)),t(R.success("New Signals created")),console.log("signals created",e)},function(e){console.log("creating signals failed",e),t(function(e){return{type:y.CREATE_FAILURE,error:e}}(e)),t(R.error(e.toString()))})}},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){t({type:y.GET_REQUEST}),ue().then(function(){return ne.get(e)}).then(function(e){return t(function(e){return{type:y.GET_SUCCESS,signals:e}}(e))},function(e){return t(function(e){return{type:y.GET_FAILURE,error:e}}(e.toString()))})}},getCheckedSignals:function(e){return function(t){t({type:y.GET_CHECKED_REQUEST}),ue().then(function(){return ne.getCheckedSignals(e)}).then(function(e){return t(function(e){return{type:y.GET_CHECKED_SUCCESS,signals:e}}(e))},function(e){return t(function(e){return{type:y.GET_CHECKED_FAILURE,error:e}}(e.toString()))})}}};var he={get:function(){return function(e){e({type:I.GET_REQUEST}),ue().then(function(){return ce.get()}).then(function(t){return e(function(e){return{type:I.GET_SUCCESS,portfolio:e}}(t))},function(t){return e(function(e){return{type:I.GET_FAILURE,error:e}}(t.toString()))})}},getBTCValues:function(){return function(e){e({type:I.GET_BTC_REQUEST}),ue().then(function(){return ce.getBTCValues()}).then(function(t){return e((a=t,{type:I.GET_BTC_SUCCESS,portfolio:a}));var a},function(t){return e(function(e){return{type:I.GET_BTC_FAILURE,error:e}}(t.toString()))})}}};var Se={create:function(e){return function(t){t(function(e){return{type:G.CREATE_REQUEST,manualorders:e}}({manualorders:e})),ue().then(function(){return oe.create(e)}).then(function(e){console.log("Success creating manualorders"),t(function(e){return{type:G.CREATE_SUCCESS,manualorders:e}}(e)),t(R.success("New Manualorders created")),console.log("manualorders created",e)},function(e){console.log("creating manualorders failed",e),t(function(e){return{type:G.CREATE_FAILURE,error:e}}(e)),t(R.error(e.toString()))})}},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){t({type:G.GET_REQUEST}),ue().then(function(){return oe.get(e)}).then(function(e){return t(function(e){return{type:G.GET_SUCCESS,manualorders:e}}(e))},function(e){return t(function(e){return{type:G.GET_FAILURE,error:e}}(e.toString()))})}},getSymbols:function(e){return function(t){t({type:G.GET_SYMBOLS_REQUEST}),ue().then(function(){return oe.getSymbols(e)}).then(function(e){return t(function(e){return{type:G.GET_SYMBOLS_SUCCESS,symbols:e}}(e))},function(e){return t(function(e){return{type:G.GET_SYMBOLS_FAILURE,error:e}}(e.toString()))})}}};var ge={getById:function(e){return function(t){t({type:k.GET_REQUEST}),ue().then(function(){return ie.get(e)}).then(function(e){return t(function(e){return{type:k.GET_SUCCESS,trade:e}}(e))},function(e){return t(function(e){return{type:k.GET_FAILURE,error:e}}(e.toString()))})}},getAll:function(){return function(e){e({type:k.GETALL_REQUEST}),ue().then(function(){return ie.get()}).then(function(t){return e(function(e){return{type:k.GETALL_SUCCESS,trades:e}}(t))},function(t){return e(function(e){return{type:k.GETALL_FAILURE,error:e}}(t.toString()))})}}};var _e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={show_dropdown:!1},a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),e.target.classList.contains("logout-button")&&X.logout(),this.state.show_dropdown?document.body.removeEventListener("click",this.handleChange):document.body.addEventListener("click",this.handleChange),this.setState({show_dropdown:!this.state.show_dropdown}),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{class:"account-wrap"},r.a.createElement("div",{class:this.state.show_dropdown?"account-item clearfix js-item-menu show-dropdown":"account-item clearfix js-item-menu",onClick:this.handleChange},r.a.createElement("div",{class:"image"},r.a.createElement("img",{src:"/images/icon/2.png",style:{width:"50%",height:"50%"},alt:e.username})),r.a.createElement("div",{class:"content"},r.a.createElement("a",{class:"js-acc-btn",href:"#",onClick:this.handleChange},e.username)),this.state.show_dropdown&&r.a.createElement("div",{class:"account-dropdown js-dropdown"},r.a.createElement("div",{class:"info clearfix"},r.a.createElement("div",{class:"image"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"/images/icon/2.png",alt:e.username}))),r.a.createElement("div",{class:"content"},r.a.createElement("h5",{class:"name"},r.a.createElement("a",{href:"#"},e.username)),r.a.createElement("span",{class:"email"},e.email))),r.a.createElement("div",{class:"account-dropdown__footer"},r.a.createElement("a",{href:"#",className:"logout-button"},r.a.createElement("i",{class:"zmdi zmdi-power"}),"Logout")))))}}]),t}(n.Component);var pe=Object(p.connect)(function(e){return{user:e.authentication.user}})(_e),Ae=a(61),fe=a.n(Ae),Te=(a(131),a(132),n.Component,function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){t.preventDefault();var n=parseInt(a.props.trades.length/a.props.itemsCountPerPage)+1;if("P"===e)a.state.pageNumber>1&&a.setState({pageNumber:a.state.pageNumber-1});else if("N"===e)a.state.pageNumber<n&&a.setState({pageNumber:a.state.pageNumber+1});else if(isNaN(parseInt(e)))"all"===e||"binance"===e||"bittrex"===e?a.setState({account:e}):alert("finisher");else{var r=parseInt(e);r>0&&r<=n&&a.setState({pageNumber:r})}}},a.state={pageNumber:1,account:"all"},a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.trades;console.log("Trades are",e);var t=this.state.account,a="all"!==t?e.filter(function(e){return e.exchange===t.toUpperCase()}):e,n=(this.state.pageNumber-1)*this.props.itemsCountPerPage,c=this.state.pageNumber*this.props.itemsCountPerPage,s=parseInt(a.length/this.props.itemsCountPerPage)+1,o=a.slice(n,c);return r.a.createElement("div",null,r.a.createElement("div",{class:"row m-t-30"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h4",null,t[0].toUpperCase()+t.slice(1)," Trades")),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"custom-tab"},r.a.createElement("nav",null,r.a.createElement("div",{class:"nav nav-tabs",id:"nav-tab",role:"tablist"},r.a.createElement("a",{class:"nav-item nav-link active",id:"custom-nav-all-tab",onClick:this.handleChange("all"),"data-toggle":"tab",href:"#custom-nav-all",role:"tab","aria-controls":"custom-nav-all","aria-selected":"true"},"All"),r.a.createElement("a",{class:"nav-item nav-link",id:"custom-nav-binance-tab",onClick:this.handleChange("binance"),"data-toggle":"tab",href:"#custom-nav-binance",role:"tab","aria-controls":"custom-nav-binance","aria-selected":"false"},"Binance"),r.a.createElement("a",{class:"nav-item nav-link",id:"custom-nav-bittrex-tab",onClick:this.handleChange("bittrex"),"data-toggle":"tab",href:"#custom-nav-bittrex",role:"tab","aria-controls":"custom-nav-bittrex","aria-selected":"false"},"Bittrex"))),r.a.createElement("div",{class:"tab-content pl-3 pt-2",id:"nav-tabContent"},r.a.createElement("div",{class:"table-responsive m-b-40"},r.a.createElement("table",{class:"table table-borderless table-data3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"NO"),r.a.createElement("th",null,"SIGNAL"),r.a.createElement("th",null,"SYMBOL"),r.a.createElement("th",null,"BUY AT"),r.a.createElement("th",null,"SELL AT"),r.a.createElement("th",null,"QTY"),r.a.createElement("th",null,"PNL"),r.a.createElement("th",null,"STATUS"),r.a.createElement("th",null,"TIME"))),r.a.createElement("tbody",null,o.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.signal),r.a.createElement("td",null,e.symbol),r.a.createElement("td",null,e.buy_price),r.a.createElement("td",null,e.sell_price),r.a.createElement("td",null,e.buy_quantity),r.a.createElement("td",null,e.PNL),r.a.createElement("td",{class:"FILLED"===e.sell_status?"process":"denied"},"FILLED"===e.sell_status?"COMPLETE":"ONGOING"),r.a.createElement("td",null,r.a.createElement(fe.a,{fromNowDuring:864e5,format:"DD-MM-YY,HH:mm"},e.timestamp)))})))))))),r.a.createElement("div",{class:"user-data__footer"},r.a.createElement("nav",{"aria-label":"Page navigation"},r.a.createElement("ul",{class:"pagination justify-content-center"},r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:this.handleChange("P"),name:"P"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{class:"sr-only"},"Previous"))),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#",onClick:this.handleChange(1),name:1},"1")),1!==this.state.pageNumber&&this.state.pageNumber!==s&&r.a.createElement("li",{class:"page-item disabled"},r.a.createElement("a",{class:"page-link",href:"#"},this.state.pageNumber)),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#",onClick:this.handleChange(s),name:s},s)),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Next",onClick:this.handleChange("N"),name:"N"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{class:"sr-only"},"Next")))))))))}}]),t}(n.Component)),be=a(144),Ce=a.n(be),ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={show_dropdown:!1},a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({show_dropdown:!this.state.show_dropdown})}},{key:"render",value:function(){return r.a.createElement("header",{class:"header-mobile d-block d-lg-none"},r.a.createElement(Ce.a,null,function(e){var t=e.onToggle,a=e.setCollapsibleElement;return r.a.createElement("div",{className:"mobile_collapsible"},r.a.createElement("div",{class:"header-mobile__bar"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"header-mobile-inner"},r.a.createElement("a",{class:"logo",href:"/"},r.a.createElement("img",{src:"images/icon/clown.png",alt:"Clown"})),r.a.createElement("button",{class:"hamburger hamburger--slider mobile-collapsible__toggle",onClick:t,type:"button"},r.a.createElement("span",{class:"hamburger-box"},r.a.createElement("span",{class:"hamburger-inner"})))))),r.a.createElement("div",{className:"mobile_collapsible__content",ref:a},r.a.createElement("nav",{class:"navbar-mobile mobile_collapsible__content-inner"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("ul",{class:"navbar-mobile__list list-unstyled"},r.a.createElement("li",null,r.a.createElement("a",{href:"/"},r.a.createElement("i",{class:"fas fa-tachometer-alt"}),"Dashboard")),r.a.createElement("li",null,r.a.createElement("a",{href:"/settings"},r.a.createElement("i",{class:"fas fa-chart-bar"}),"Settings")))))))}))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={btc_values:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.portfolio;0===e.btc_values.length?this.props.dispatch(he.getBTCValues()):this.setState({btc_values:e.btc_values})}},{key:"componentWillReceiveProps",value:function(e){e.portfolio.btc_values.length&&this.setState({btc_values:e.portfolio.btc_values})}},{key:"render",value:function(){var e=this.props.user,t=this.state.btc_values;return r.a.createElement("body",null,r.a.createElement("div",{class:"page-wrapper"},r.a.createElement(ve,null),r.a.createElement("aside",{class:"menu-sidebar d-none d-lg-block"},r.a.createElement("div",{class:"logo"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"images/icon/clown.png",alt:"Clown"}))),r.a.createElement("div",{class:"menu-sidebar__content js-scrollbar1"},r.a.createElement("nav",{class:"navbar-sidebar"},r.a.createElement("ul",{class:"list-unstyled navbar__list"},r.a.createElement("li",null,r.a.createElement("a",{href:"/"},r.a.createElement("i",{class:"fas fa-tachometer-alt"}),"Dashboard")),r.a.createElement("li",null,r.a.createElement("a",{href:"/settings"},r.a.createElement("i",{class:"fas fa-chart-bar"}),"Settings")),r.a.createElement("li",null,r.a.createElement("a",{href:"/signals"},r.a.createElement("i",{class:"fas fa-chart-line"}),"Signals")),r.a.createElement("li",null,r.a.createElement("a",{href:"/manualorders"},r.a.createElement("i",{class:"fas fa-bank"}),"Create Order")))))),r.a.createElement("div",{class:"page-container"},r.a.createElement("header",{class:"header-desktop"},r.a.createElement("div",{class:"section__content section__content--p30"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"header-wrap"},r.a.createElement("div",null),r.a.createElement("div",{class:"header-button"},r.a.createElement(v,{btc_values:t}),r.a.createElement(pe,{user:e})))))),r.a.createElement("div",{class:"main-content"},r.a.createElement("div",{class:"section__content section__content--p30"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement(A.Notify,null),alert.message&&r.a.createElement("div",{className:"alert ".concat(alert.type)},alert.message),this.props.children,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"copyright"},r.a.createElement("p",null,"Copyright \xa9 2019 Magnito."))))))))))}}]),t}(n.Component);var Ue=Object(p.connect)(function(e){return{user:e.authentication.user,portfolio:e.portfolio}})(Re);function Le(e){return Object.prototype.toString.call(e)}function Oe(e){return e.every(function(t){return t==e[0]})}function ye(e){return Le(e)==Le([])}function Ie(e){return e.length}function Ge(e){return e.every(ye)?Oe(e.map(Ie))&&(t=e,t[0].map(function(e,a){return t.map(function(e){return e[a]})})).map(Ge).reduce(function(e,t){return e&&t},!0):Oe(e);var t}var ke=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={exchange:"BINANCE",exchange_accounts:[],portfolio:{labels:[],portfolios:{BINANCE:[],BITTREX:[]},loaded:!1},activePage:1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(me.get()),this.props.dispatch(he.get()),this.props.dispatch(ge.getAll())}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=!1;Object.keys(e.portfolio.portfolios).map(function(n){Ge([t.state.portfolio.portfolios[n],e.portfolio.portfolios[n]])||(a=!0)}),a&&this.setState({portfolio:Object(_.a)({},this.state.portfolio,{labels:e.portfolio.labels,portfolios:e.portfolio.portfolios,loaded:!0})})}},{key:"render",value:function(){this.props.orders;var e=this.props.trades;return r.a.createElement(Ue,null,r.a.createElement("div",{class:"row m-t-25"},r.a.createElement("div",{class:"col-sm-12 col-lg-"},r.a.createElement("div",{class:"overview-wrap"},r.a.createElement("h2",{class:"title-1"},"Portfolio")),r.a.createElement("div",{class:"overview-item overview-item--c1"},r.a.createElement("div",{class:"overview__inner"},r.a.createElement("div",{class:"overview-box clearfix"},r.a.createElement("div",{class:"icon"},r.a.createElement("i",{class:"zmdi zmdi-account-o"})),r.a.createElement("div",{class:"text"},r.a.createElement("h2",null,"My"),r.a.createElement("span",null,"chart"))),r.a.createElement("div",{class:"overview-chart"},this.state.portfolio.loaded&&r.a.createElement(C,{labels:this.state.portfolio.labels,portfolios:this.state.portfolio.portfolios})))))),r.a.createElement(Te,{trades:e,itemsCountPerPage:10}))}}]),t}(n.Component);var De=Object(p.connect)(function(e){return{orders:e.orders.list,settings:e.settings,portfolio:e.portfolio,trades:e.trades.list}})(ke),je=a(12),Ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={api_key:"",api_secret:"",exchange:a.props.exchange,profit_margin:"",stop_loss_trigger:"",order_cancel_seconds:"",min_order_size:"",submitted:!1,account_exists:!1,receive_notifications:"",user_tg_id:"",use_fixed_amount_per_order:"",fixed_amount_per_order:"",loading:!1},a.handleSubmit=a.handleSubmit.bind(Object(T.a)(Object(T.a)(a))),a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState(Object(je.a)({},t,a))}},{key:"componentDidMount",value:function(){this.props.dispatch(me.get())}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.exchange,n=t.api_key,r=t.api_secret,c=t.profit_margin,s=t.stop_loss_trigger,o=t.order_cancel_seconds,l=t.min_order_size,i=t.account_exists,E=t.user_tg_id,u=t.receive_notifications,m=t.use_fixed_amount_per_order,d=t.fixed_amount_per_order,h=this.props.dispatch;a&&n&&r&&!i?h(me.create({exchange:a,api_key:n,api_secret:r})):i&&c&&s&&o&&(l||m&&d)&&h(me.create({exchange:a,profit_margin:c,stop_loss_trigger:s,order_cancel_seconds:o,min_order_size:l,user_tg_id:E,receive_notifications:u,use_fixed_amount_per_order:m,fixed_amount_per_order:d,api_secret:r,api_key:n})),this.setState({loading:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.settings.accounts.length>0){var a=e.settings.accounts.find(function(e){return e.exchange===t.state.exchange});if(void 0===a)return;this.setState({account_exists:!0}),a.api_key!==this.state.api_key&&this.setState({api_key:a.api_key}),a.api_secret!==this.state.api_secret&&this.setState({api_secret:a.api_secret}),a.profit_margin!==this.state.profit_margin&&this.setState({profit_margin:a.profit_margin}),a.stop_loss_trigger!==this.state.stop_loss_trigger&&this.setState({stop_loss_trigger:a.stop_loss_trigger}),a.order_cancel_seconds!==this.state.order_cancel_seconds&&this.setState({order_cancel_seconds:a.order_cancel_seconds}),a.min_order_size!==this.state.min_order_size&&this.setState({min_order_size:a.min_order_size}),a.user_tg_id!==this.state.user_tg_id&&this.setState({user_tg_id:a.user_tg_id}),a.receive_notifications!==this.state.receive_notifications&&this.setState({receive_notifications:a.receive_notifications}),a.use_fixed_amount_per_order!==this.state.use_fixed_amount_per_order&&this.setState({use_fixed_amount_per_order:a.use_fixed_amount_per_order}),a.fixed_amount_per_order!==this.state.fixed_amount_per_order&&this.setState({fixed_amount_per_order:a.fixed_amount_per_order})}}},{key:"render",value:function(){var e=this.state,t=e.api_key,a=e.api_secret,n=e.exchange,c=e.profit_margin,s=e.stop_loss_trigger,o=e.order_cancel_seconds,l=e.min_order_size,i=e.submitted,E=e.account_exists,u=e.user_tg_id,m=e.receive_notifications,d=e.use_fixed_amount_per_order,h=e.fixed_amount_per_order;return r.a.createElement("form",{class:"",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"hidden",name:"exchange",value:n}),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Api Key"),r.a.createElement("input",{type:"text",className:"au-input au-input--full",name:"api_key",value:t,onChange:this.handleChange}),i&&!E&&!t&&r.a.createElement("div",{className:"help-block"},"Api Key is required")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Api Secret"),r.a.createElement("input",{type:"text",className:"au-input au-input--full",name:"api_secret",value:a,default:"*********",onChange:this.handleChange}),i&&!E&&!a&&r.a.createElement("div",{className:"help-block"},"Api Secret is required")),E&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Profit Margin"),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{type:"text",name:"profit_margin",class:"form-control",value:c,onChange:this.handleChange}),r.a.createElement("div",{class:"input-group-addon"},"%")),i&&!c&&r.a.createElement("div",{className:"help-block"},"Profit Margin is required")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Stop Loss Trigger"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-addon"},r.a.createElement("i",{class:"fa fa-minus"})),r.a.createElement("input",{type:"text",name:"stop_loss_trigger",value:s,onChange:this.handleChange,class:"form-control"}),r.a.createElement("div",{class:"input-group-addon"},"%")),i&&!s&&r.a.createElement("div",{className:"help-block"},"Stop Loss is required")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Order Timeout"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-addon"},r.a.createElement("i",{class:"fa fa-minus-circle"})),r.a.createElement("input",{type:"text",name:"order_cancel_seconds",value:o,onChange:this.handleChange,class:"form-control"}),r.a.createElement("div",{class:"input-group-addon"},"Sec")),i&&!o&&r.a.createElement("div",{className:"help-block"},"Order Cancel Seconds is required")),!d&&r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Min Order Size"),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{type:"text",name:"min_order_size",value:l,onChange:this.handleChange,class:"form-control"}),r.a.createElement("div",{class:"input-group-addon"},"%")),i&&!l&&!d&&r.a.createElement("div",{className:"help-block"},"Min Order Size is required or specify a fixed amount per order")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check"},r.a.createElement("div",{class:"checkbox"},r.a.createElement("label",{for:"checkbox333",class:"form-check-label "},r.a.createElement("input",{type:"checkbox",id:"checkbox333",name:"use_fixed_amount_per_order",checked:d,class:"form-check-input",onChange:this.handleChange}),"Use fixed amount per order"))),d&&r.a.createElement("div",null,r.a.createElement("label",null,"Amount Per Order"),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{type:"text",name:"fixed_amount_per_order",value:h,onChange:this.handleChange,class:"form-control"})),i&&!h&&d&&r.a.createElement("div",{className:"help-block"},"Enter the amount to use per order"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Telegram Account ID"),r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{type:"text",name:"user_tg_id",value:u,onChange:this.handleChange,class:"form-control"})),i&&!u&&r.a.createElement("div",{className:"help-block"},"Enter your telegram  ID")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check"},r.a.createElement("div",{class:"checkbox"},r.a.createElement("label",{for:"checkbox332",class:"form-check-label "},r.a.createElement("input",{type:"checkbox",id:"checkbox332",name:"receive_notifications",checked:m,class:"form-check-input",onChange:this.handleChange}),"Receive Notifications")))))),r.a.createElement("div",{class:"form-actions form-group"},r.a.createElement("button",{type:"submit",class:"btn btn-success btn-sm"},"Submit"),this.props.settings.loading&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})))}}]),t}(n.Component);var xe=Object(p.connect)(function(e){return{settings:e.settings}})(Ne);function we(e){return e.loading?r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}):""}var Fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={exchange:null,signals:[],checked_signals:[],submitted:!1,exchange_accounts:[]},a.handleSubmit=a.handleSubmit.bind(Object(T.a)(Object(T.a)(a))),a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;if("signal"===t.split("-")[0]){var a=this.state.checked_signals.slice();if(e.target.checked)a.push(t.split("-")[1]);else{var n=a.indexOf(t.split("-")[1]);a.splice(n,1)}this.setState({checked_signals:a})}else{var r="checkbox"===e.target.type?e.target.checked:e.target.value;"exchange"===t&&this.props.dispatch(de.getCheckedSignals(r)),this.setState(Object(je.a)({},t,r))}}},{key:"componentDidMount",value:function(){this.props.dispatch(de.get(null)),this.props.dispatch(me.get())}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.exchange,n=t.checked_signals,r=this.props.dispatch;a&&r(de.create({exchange_account:a,signals:n}))}},{key:"componentWillReceiveProps",value:function(e){e.signals&&(e.signals.list.length>0&&this.setState({signals:e.signals.list}),Ge([e.signals.checked_signals,this.state.checked_signals])||this.setState({checked_signals:e.signals.checked_signals})),e.settings&&this.setState({exchange_accounts:e.settings.accounts})}},{key:"render",value:function(){var e=this,t=this.state,a=t.exchange,n=(t.submitted,t.signals),c=t.exchange_accounts,s=t.checked_signals,o=this.props.signals.loading;return r.a.createElement(Ue,null,r.a.createElement("form",{class:"",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-header"},r.a.createElement("strong",null,"Signals")),r.a.createElement("div",{class:"card-body card-block"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"company",class:" form-control-label"},"Exchange"),r.a.createElement("select",{name:"exchange",id:"selectLg",class:"form-control-lg form-control",onChange:this.handleChange},r.a.createElement("option",{value:""},"Choose Account"),c&&c.map(function(e){return r.a.createElement("option",{value:e.exchange_account_id},e.exchange)}))),a?r.a.createElement("div",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-check"},n.map(function(t){return r.a.createElement("div",{class:"checkbox"},r.a.createElement("label",{for:"checkbox1",class:"form-check-label "},r.a.createElement("input",{type:"checkbox",id:"checkbox-"+t.name,name:"signal-"+t.name,checked:s.includes(t.name),class:"form-check-input",onChange:e.handleChange}),t.name))}))),r.a.createElement("div",{class:"form-actions form-group"},r.a.createElement("button",{type:"submit",class:"btn btn-success btn-sm"},"Submit ",r.a.createElement(we,{loading:o})))):"")))))}}]),t}(n.Component);var Qe=Object(p.connect)(function(e){return{signals:e.signals,settings:e.settings}})(Fe);function Pe(e){return r.a.createElement(Ue,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"col-lg-6"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h4",null,"EXCHANGE SETTINGS")),r.a.createElement("div",{class:"card-body"},r.a.createElement("p",{class:"text-muted m-b-15"},"Lets tune up the bot"),r.a.createElement("div",{class:"default-tab"},r.a.createElement("nav",null,r.a.createElement("div",{class:"nav nav-tabs",id:"nav-tab",role:"tablist"},r.a.createElement("a",{class:"nav-item nav-link active",id:"nav-binance-tab","data-toggle":"tab",href:"#nav-binance",role:"tab","aria-controls":"nav-binance","aria-selected":"true"},"Binance"),r.a.createElement("a",{class:"nav-item nav-link",id:"nav-bittrex-tab","data-toggle":"tab",href:"#nav-bittrex",role:"tab","aria-controls":"nav-bittrex","aria-selected":"false"},"Bittrex"))),r.a.createElement("div",{class:"tab-content pl-3 pt-2",id:"nav-tabContent"},r.a.createElement("div",{class:"tab-pane fade show active",id:"nav-binance",role:"tabpanel","aria-labelledby":"nav-binance-tab"},r.a.createElement(xe,{exchange:"BINANCE"})),r.a.createElement("div",{class:"tab-pane fade",id:"nav-bittrex",role:"tabpanel","aria-labelledby":"nav-bittrex-tab"},r.a.createElement(xe,{exchange:"BITTREX"})))))))))}var Me=a(39);function Be(e){return r.a.createElement("body",null,r.a.createElement("div",{class:"page-wrapper"},r.a.createElement("div",{class:"page-content--bge5"},r.a.createElement("div",{className:"container"},r.a.createElement(A.Notify,null),e.children))))}var He=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).props.dispatch(X.logout()),a.state={email:"",password:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(je.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.email,n=t.password,r=this.props.dispatch;a&&n&&r(X.login(a,n))}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,a=t.email,n=t.password,c=t.submitted;return r.a.createElement(Be,null,r.a.createElement("div",{class:"login-wrap"},r.a.createElement("div",{class:"login-content"},r.a.createElement("div",{class:"login-logo"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"images/icon/clown.png",alt:"CoolAdmin"}))),r.a.createElement("div",{class:"login-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Email Address"),r.a.createElement("input",{type:"email",className:"au-input au-input--full",name:"email",value:a,onChange:this.handleChange}),c&&!a&&r.a.createElement("div",{className:"help-block"},"Email is required")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"au-input au-input--full",name:"password",value:n,onChange:this.handleChange}),c&&!n&&r.a.createElement("div",{className:"help-block"},"Password is required")),r.a.createElement("div",{class:"login-checkbox"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"remember"}),"Remember Me"),r.a.createElement("label",null,r.a.createElement("a",{href:"/password-reset"},"Forgotten Password?"))),r.a.createElement("button",{class:"au-btn au-btn--block au-btn--green m-b-20",type:"submit"},r.a.createElement(we,{loading:e})," sign in")),r.a.createElement("div",{class:"register-link"},r.a.createElement("p",null,"Don't you have account?",r.a.createElement(Me.a,{to:"/register"},"Sign Up Here")))))))}}]),t}(n.Component);var Ke=Object(p.connect)(function(e){return{loggingIn:e.authentication.loggingIn}})(He),Ye=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).state={user:{username:"",email:"",password:"",tg_address:""},submitted:!1},a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(T.a)(Object(T.a)(a))),a.handleSocialLogin=a.handleSocialLogin.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;this.setState({user:Object(_.a)({},r,Object(je.a)({},a,n))})}},{key:"handleSocialLogin",value:function(e){var t=e.type,a=e.email,n=e.social_id,r=e.avatar,c=e.username;(0,this.props.dispatch)(X.oauthlogin({type:t,email:a,social_id:n,avatar_url:r,username:c}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.user,a=this.props.dispatch;t.username&&t.email&&t.password&&a(X.register(t))}},{key:"render",value:function(){var e=this.props.logginIn,t=this.state,a=t.user,n=t.submitted;return r.a.createElement(Be,null,r.a.createElement("div",{class:"login-wrap"},r.a.createElement("div",{class:"login-content"},r.a.createElement("div",{class:"login-logo"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"images/icon/clown.png",alt:"CoolAdmin"}))),r.a.createElement("div",{class:"login-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:"au-input au-input--full",name:"username",value:a.username,onChange:this.handleChange}),n&&!a.username&&r.a.createElement("div",{className:"help-block"},"Username is required")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Email Address"),r.a.createElement("input",{type:"email",className:"au-input au-input--full",name:"email",value:a.email,onChange:this.handleChange}),n&&!a.email&&r.a.createElement("div",{className:"help-block"},"Email is required")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"au-input au-input--full",name:"password",value:a.password,onChange:this.handleChange}),n&&!a.password&&r.a.createElement("div",{className:"help-block"},"Password is required")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",className:"au-input au-input--full",name:"password_confirm",value:a.password_confirm,onChange:this.handleChange}),n&&!a.password_confirm&&a.password!==a.password_confirm&&r.a.createElement("div",{className:"help-block"},"Password Confirmation is required")),r.a.createElement("div",{class:"login-checkbox"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"aggree"}),"Agree the terms and policy")),r.a.createElement("button",{class:"au-btn au-btn--block au-btn--green m-b-20",type:"submit"},r.a.createElement(we,{loading:e})," register")),r.a.createElement("div",{class:"register-link"},r.a.createElement("p",null,"Already have account?",r.a.createElement(Me.a,{to:"/login"},"Sign In")))))))}}]),t}(n.Component);var Je=Object(p.connect)(function(e){return{logginIn:e.authentication.logginIn}})(Ye),ze=a(149),Ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(E.a)(t).call(this,e))).handleSelectChange=function(e){return function(t){a.setState(Object(je.a)({},e,t.value))}},a.state={exchange_account_id:"",symbol:"",side:"",price:"",quantity:"",exchange_accounts:"",submitted:!1,exchange_symbols:{exchange:"",symbols:[],loading:!0},exchange:null},a.handleChange=a.handleChange.bind(Object(T.a)(Object(T.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;if(this.setState(Object(je.a)({},t,a)),"exchange_account_id"===t){var n=this.state.exchange_accounts.filter(function(e){return e.exchange_account_id===parseInt(a)});if(n.length>0){var r=n[0];this.props.dispatch(Se.getSymbols(r.exchange)),this.setState({exchange_symbols:Object(_.a)({},this.state.exchange_symbols,{loading:!0})}),this.setState({exchange:r.exchange})}}}},{key:"componentDidMount",value:function(){this.props.dispatch(me.get())}},{key:"componentWillReceiveProps",value:function(e){if(e.settings&&this.setState({exchange_accounts:e.settings.accounts}),e.manualorders){var t=e.manualorders.symbols;t.symbols.length>0&&this.setState({exchange_symbols:{exchange:t.exchange,symbols:t.symbols,loading:!1}})}}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.exchange_account_id,n=t.symbol,r=t.side,c=t.price,s=t.quantity,o=t.exchange;a&&n&&r&&c&&s&&o&&this.props.dispatch(Se.create({exchange_account_id:a,symbol:n,side:r,price:c,quantity:s,exchange:o}))}},{key:"render",value:function(){var e=this.state,t=e.exchange_account_id,a=e.exchange_accounts,n=e.exchange_symbols,c=e.symbol,s=e.side,o=e.price,l=e.quantity,i=e.submitted,E=/^([A-Z]{3}|[A-Z]{4})BTC/,u=n.symbols.map(function(e){return{value:e,label:e}});return r.a.createElement(Ue,null,r.a.createElement("form",{class:"",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-header"},r.a.createElement("strong",null,"Create Order")),r.a.createElement("div",{class:"card-body card-block"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"company",class:" form-control-label"},"Exchange"),r.a.createElement("select",{name:"exchange_account_id",id:"select_id",class:"form-control-lg form-control",onChange:this.handleChange},r.a.createElement("option",{value:""},"Choose Exchange Account"),a&&a.map(function(e){return r.a.createElement("option",{value:e.exchange_account_id},e.exchange)})),t&&r.a.createElement("div",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"company",class:" form-control-label"},"Symbol"),n.loading?r.a.createElement(we,{loading:n.loading}):r.a.createElement(ze.a,{options:u,onChange:this.handleSelectChange("symbol")}),i&&!c&&r.a.createElement("div",{className:"help-block"},"You have to select a symbol")),c&&r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"PRICE"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-addon"},r.a.createElement("i",{class:"fa fa-minus"})),r.a.createElement("input",{type:"text",name:"price",value:o,onChange:this.handleChange,class:"form-control"}),r.a.createElement("div",{class:"input-group-addon"},"%")),i&&!o&&r.a.createElement("div",{className:"help-block"},"What price")),o&&r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"QUANTITY"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-addon"},r.a.createElement("i",{class:"fa fa-minus"})),r.a.createElement("input",{type:"text",name:"quantity",value:l,onChange:this.handleChange,class:"form-control"}),r.a.createElement("div",{class:"input-group-addon"},"%")),i&&!l&&r.a.createElement("div",{className:"help-block"},"How much ",E.exec(c)?E.exec(c)[1]:"*specify symbol")),l&&r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"SIDE"),r.a.createElement("select",{name:"side",id:"select_side",class:"form-control-lg form-control",onChange:this.handleChange},r.a.createElement("option",{value:""},"Buy or Sell"),r.a.createElement("option",{value:"BUY"},"BUY"),r.a.createElement("option",{value:"SELL"},"SELL")),i&&!s&&r.a.createElement("div",{className:"help-block"},"Do we buy it or sell it"))),s&&r.a.createElement("div",{class:"form-actions form-group"},r.a.createElement("button",{type:"submit",class:"btn btn-primary btn-lg pull-right"},"PLACE ORDER"))))))))}}]),t}(n.Component);var We=Object(p.connect)(function(e){return{settings:e.settings,manualorders:e.manualorders}})(Ve),qe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.c,{history:h},r.a.createElement("div",{class:"outer-wrapper"},r.a.createElement(g,{path:"/",exact:!0,component:De}),r.a.createElement(g,{path:"/settings",component:Pe}),r.a.createElement(g,{path:"/signals",component:Qe}),r.a.createElement(g,{path:"/manualorders",component:We}),r.a.createElement(m.b,{path:"/login",component:Ke}),r.a.createElement(m.b,{path:"/register",component:Je})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.store=z,s.a.render(r.a.createElement(p.Provider,{store:z},r.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[150,1,2]]]);
//# sourceMappingURL=main.0212e059.chunk.js.map